import{u as f,a as j,b as C,r,p as n,j as t,B as b,L as v,q as N,s as y}from"./index-BPNOnu4i.js";import{u as P,F as T}from"./index.esm-Bae_MGDG.js";import{G as D}from"./index-Bg3OxakJ.js";import{C as I}from"./CourseCard-udxgpsCg.js";import"./PurePanel-DnULl68u.js";import"./useId-CHcgfaXS.js";import"./index-DzMSRXFW.js";import"./useClosable-DPOJKCrc.js";import"./index-BLl8_7Zi.js";import"./index-D1mxud5J.js";import"./SearchOutlined-Cmj8FuB3.js";function U(){const d=P(),a=f(),l=j(),s=sessionStorage.getItem("authToken")||"",i=sessionStorage.getItem("userId")||"",{creatorCourses:c=[],loading:m,error:u}=C(e=>e.mentor),p=async e=>{r.startTransition(()=>{a(N({courseId:e,headers:{Authorization:`Bearer ${s}`}})).then(()=>a(n({creatorId:i,authToken:s})))})},h=async(e,o)=>{r.startTransition(()=>{a(y({courseId:e,courseData:o,headers:{Authorization:`Bearer ${s}`}})).then(()=>a(n({creatorId:i,authToken:s})))})},x=async(e,o)=>{h(e,{isPublished:!o})};r.useEffect(()=>{i&&s&&r.startTransition(()=>{a(n({creatorId:i,authToken:s}))})},[a,i,s]);const g=e=>{l(`/course-details/${e}`)};return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("div",{className:"flex sm:flex-row flex-col justify-between items-center gap-3 px-[40px]",children:[t.jsx("h1",{className:"text-[#202224] text-[24px] leading-[40px] font-semibold",children:"My Courses"}),t.jsx(b,{variant:"outlined",onClick:()=>l("/create-course"),children:t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(D,{size:20})," Create Course"]})})]}),t.jsx(T,{...d,children:t.jsx("form",{onSubmit:d.handleSubmit(e=>console.log(e)),children:t.jsx("div",{className:`mt-[30px] px-[40px] max-w-7xl mx-auto gap-6 ${m?"flex justify-center items-center min-h-[55vh]":"grid sm:grid-cols-3 items-center justify-center"}`,children:m?t.jsx(v,{}):u?t.jsx("p",{className:"text-red-500",children:u}):c.length>0?c.map(e=>t.jsx(I,{title:e.title,tags:e.tags,chapters:e.chapterIds.length,students:1250,price:e.price,rating:4.5,imageUrl:e.imageUrl,description:e.description,isPublished:e.isPublished,onDelete:p,onEdit:h,onTogglePublishStatus:()=>x(e._id,e.isPublished),onClick:()=>g(e._id),courseId:e._id},e._id)):t.jsx("p",{children:"No courses found."})})})})]})}export{U as default};
